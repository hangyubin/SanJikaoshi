import{d as M,r as g,a as C,o as G,b as H,e as y,f as e,w as t,g as s,h as z,l as i,j as J,q as K,_ as Q}from"./index-DxJQWBil.js";const W={class:"admin-list"},X={class:"pagination-container"},Y={class:"dialog-footer"},Z=M({__name:"AdminList",setup(ee){const h=g([{id:1,username:"admin1",realName:"管理员张三",email:"admin1@example.com",phone:"13800138001",status:"1",roleIds:[1],createTime:"2025-12-01 10:00:00",updateTime:"2025-12-02 14:30:00"},{id:2,username:"admin2",realName:"管理员李四",email:"admin2@example.com",phone:"13800138002",status:"1",roleIds:[2],createTime:"2025-12-01 11:00:00",updateTime:"2025-12-03 09:15:00"}]),r=C({username:"",realName:"",status:""}),V=g(1),_=g(10),I=g(h.value.length),f=g(!1),c=g("添加管理员"),w=g(),o=C({id:"",username:"",password:"",realName:"",email:"",phone:"",roleIds:[],status:"1"}),T=C({username:[{required:!0,message:"请输入用户名",trigger:"blur"},{min:3,max:20,message:"用户名长度在 3 到 20 个字符",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,max:20,message:"密码长度在 6 到 20 个字符",trigger:"blur"}],realName:[{required:!0,message:"请输入真实姓名",trigger:"blur"}],email:[{required:!0,message:"请输入邮箱",trigger:"blur"},{type:"email",message:"请输入有效的邮箱地址",trigger:"blur"}],phone:[{required:!0,message:"请输入手机号",trigger:"blur"},{pattern:/^1[3-9]\d{9}$/,message:"请输入有效的手机号",trigger:"blur"}],roleIds:[{required:!0,message:"请选择角色",trigger:"change"}]}),q=()=>{console.log("搜索管理员",r)},S=()=>{r.username="",r.realName="",r.status=""},$=()=>{c.value="添加管理员",Object.assign(o,{id:"",username:"",password:"",realName:"",email:"",phone:"",roleIds:[],status:"1"}),f.value=!0},j=n=>{c.value="编辑管理员",Object.assign(o,n),f.value=!0},B=async()=>{if(w.value)try{await w.value.validate(),console.log("提交管理员信息",o),f.value=!1}catch(n){console.error("表单验证失败:",n)}},A=n=>{console.log("删除管理员",n)},R=n=>{console.log("查看管理员详情",n)},D=n=>{console.log("变更管理员状态",n)},E=n=>{_.value=n,V.value=1},L=n=>{V.value=n};return G(()=>{console.log("管理员列表初始化")}),(n,l)=>{const p=s("el-input"),d=s("el-form-item"),b=s("el-option"),N=s("el-select"),m=s("el-button"),k=s("el-form"),U=s("el-card"),u=s("el-table-column"),x=s("el-switch"),O=s("el-table"),P=s("el-pagination"),F=s("el-dialog");return z(),H("div",W,[l[22]||(l[22]=y("h1",null,"管理员列表",-1)),e(U,{class:"search-card"},{default:t(()=>[e(k,{model:r,"label-width":"80px",inline:""},{default:t(()=>[e(d,{label:"用户名"},{default:t(()=>[e(p,{modelValue:r.username,"onUpdate:modelValue":l[0]||(l[0]=a=>r.username=a),placeholder:"请输入用户名"},null,8,["modelValue"])]),_:1}),e(d,{label:"真实姓名"},{default:t(()=>[e(p,{modelValue:r.realName,"onUpdate:modelValue":l[1]||(l[1]=a=>r.realName=a),placeholder:"请输入真实姓名"},null,8,["modelValue"])]),_:1}),e(d,{label:"状态"},{default:t(()=>[e(N,{modelValue:r.status,"onUpdate:modelValue":l[2]||(l[2]=a=>r.status=a),placeholder:"请选择状态"},{default:t(()=>[e(b,{label:"全部",value:""}),e(b,{label:"启用",value:1}),e(b,{label:"禁用",value:0})]),_:1},8,["modelValue"])]),_:1}),e(d,null,{default:t(()=>[e(m,{type:"primary",onClick:q},{default:t(()=>[...l[14]||(l[14]=[i("搜索",-1)])]),_:1}),e(m,{onClick:S},{default:t(()=>[...l[15]||(l[15]=[i("重置",-1)])]),_:1}),e(m,{type:"success",onClick:$},{default:t(()=>[...l[16]||(l[16]=[i("添加管理员",-1)])]),_:1})]),_:1})]),_:1},8,["model"])]),_:1}),e(U,{class:"table-card",style:{"margin-top":"20px"}},{default:t(()=>[e(O,{data:h.value,stripe:"",style:{width:"100%"}},{default:t(()=>[e(u,{type:"selection",width:"55"}),e(u,{prop:"id",label:"ID",width:"80"}),e(u,{prop:"username",label:"用户名",width:"120"}),e(u,{prop:"realName",label:"真实姓名",width:"120"}),e(u,{prop:"email",label:"邮箱",width:"180"}),e(u,{prop:"phone",label:"手机号",width:"150"}),e(u,{prop:"status",label:"状态",width:"100"},{default:t(a=>[e(x,{modelValue:a.row.status,"onUpdate:modelValue":v=>a.row.status=v,"active-value":"1","inactive-value":"0",onChange:v=>D(a.row)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),_:1}),e(u,{prop:"createTime",label:"创建时间",width:"180"}),e(u,{prop:"updateTime",label:"更新时间",width:"180"}),e(u,{label:"操作",width:"200"},{default:t(a=>[e(m,{type:"primary",size:"small",onClick:v=>j(a.row)},{default:t(()=>[...l[17]||(l[17]=[i("编辑",-1)])]),_:1},8,["onClick"]),e(m,{type:"danger",size:"small",onClick:v=>A(a.row)},{default:t(()=>[...l[18]||(l[18]=[i("删除",-1)])]),_:1},8,["onClick"]),e(m,{type:"info",size:"small",onClick:v=>R(a.row)},{default:t(()=>[...l[19]||(l[19]=[i("查看详情",-1)])]),_:1},8,["onClick"])]),_:1})]),_:1},8,["data"]),y("div",X,[e(P,{"current-page":V.value,"onUpdate:currentPage":l[3]||(l[3]=a=>V.value=a),"page-size":_.value,"onUpdate:pageSize":l[4]||(l[4]=a=>_.value=a),"page-sizes":[10,20,50,100],layout:"total, sizes, prev, pager, next, jumper",total:I.value,onSizeChange:E,onCurrentChange:L},null,8,["current-page","page-size","total"])])]),_:1}),e(F,{modelValue:f.value,"onUpdate:modelValue":l[13]||(l[13]=a=>f.value=a),title:c.value,width:"600px"},{footer:t(()=>[y("span",Y,[e(m,{onClick:l[12]||(l[12]=a=>f.value=!1)},{default:t(()=>[...l[20]||(l[20]=[i("取消",-1)])]),_:1}),e(m,{type:"primary",onClick:B},{default:t(()=>[...l[21]||(l[21]=[i("确认",-1)])]),_:1})])]),default:t(()=>[e(k,{model:o,rules:T,ref_key:"formRef",ref:w,"label-width":"100px"},{default:t(()=>[e(d,{label:"用户名",prop:"username"},{default:t(()=>[e(p,{modelValue:o.username,"onUpdate:modelValue":l[5]||(l[5]=a=>o.username=a),placeholder:"请输入用户名"},null,8,["modelValue"])]),_:1}),o.id?K("",!0):(z(),J(d,{key:0,label:"密码",prop:"password"},{default:t(()=>[e(p,{modelValue:o.password,"onUpdate:modelValue":l[6]||(l[6]=a=>o.password=a),type:"password",placeholder:"请输入密码"},null,8,["modelValue"])]),_:1})),e(d,{label:"真实姓名",prop:"realName"},{default:t(()=>[e(p,{modelValue:o.realName,"onUpdate:modelValue":l[7]||(l[7]=a=>o.realName=a),placeholder:"请输入真实姓名"},null,8,["modelValue"])]),_:1}),e(d,{label:"邮箱",prop:"email"},{default:t(()=>[e(p,{modelValue:o.email,"onUpdate:modelValue":l[8]||(l[8]=a=>o.email=a),type:"email",placeholder:"请输入邮箱"},null,8,["modelValue"])]),_:1}),e(d,{label:"手机号",prop:"phone"},{default:t(()=>[e(p,{modelValue:o.phone,"onUpdate:modelValue":l[9]||(l[9]=a=>o.phone=a),placeholder:"请输入手机号"},null,8,["modelValue"])]),_:1}),e(d,{label:"角色",prop:"roleIds"},{default:t(()=>[e(N,{modelValue:o.roleIds,"onUpdate:modelValue":l[10]||(l[10]=a=>o.roleIds=a),multiple:"",placeholder:"请选择角色"},{default:t(()=>[e(b,{label:"超级管理员",value:1}),e(b,{label:"普通管理员",value:2})]),_:1},8,["modelValue"])]),_:1}),e(d,{label:"状态",prop:"status"},{default:t(()=>[e(x,{modelValue:o.status,"onUpdate:modelValue":l[11]||(l[11]=a=>o.status=a),"active-value":"1","inactive-value":"0"},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["modelValue","title"])])}}}),ae=Q(Z,[["__scopeId","data-v-786257bf"]]);export{ae as default};
